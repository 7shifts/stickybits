/**
 * stickybits - Stickybits is a lightweight alternative to `position: sticky` polyfills
 * @version v2.0.11
 * @link https://github.com/dollarshaveclub/stickybits#readme
 * @author Jeff Wainwright <jjwainwright2@gmail.com> (https://jeffry.in)
 * @license MIT */
!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):t.stickybits=s()}(this,function(){"use strict";function t(t,s){var e=void 0!==s?s:{};this.version="2.0.11",this.userAgent=window.navigator.userAgent||"no `userAgent` provided by the browser",this.props={noStyles:e.noStyles||!1,stickyBitStickyOffset:e.stickyBitStickyOffset||0,parentClass:e.parentClass||"js-stickybit-parent",scrollEl:e.scrollEl||window,stickyClass:e.stickyClass||"js-is-sticky",stuckClass:e.stuckClass||"js-is-stuck",useStickyClasses:e.useStickyClasses||!1,verticalPosition:e.verticalPosition||"top"};var i=this.props;i.positionVal=this.definePosition()||"fixed",i.paddingPosition="top"===i.verticalPosition?"paddingTop":"paddingBottom";var o=i.verticalPosition,n=i.noStyles,a=i.positionVal;this.els="string"==typeof t?document.querySelectorAll(t):t,"length"in this.els||(this.els=[this.els]),this.instances=[];for(var r=0;r<this.els.length;r+=1){var l=this.els[r],c=l.style;if("top"!==o||n||(c[o]=i.stickyBitStickyOffset+"px"),"fixed"!==a&&!1===i.useStickyClasses)c.position=a;else{"fixed"!==a&&(c.position=a);var p=this.addInstance(l,i);this.instances.push(p)}}return this}return t.prototype.definePosition=function(){for(var t=["","-o-","-webkit-","-moz-","-ms-"],s=document.head.style,e=0;e<t.length;e+=1)s.position=t[e]+"sticky";var i="fixed";return void 0!==s.position&&(i=s.position),s.position="",i},t.prototype.addInstance=function(t,s){var e=this,i={el:t,parent:t.parentNode,props:s},o=i.props;i.parent.className+=" "+s.parentClass;var n=o.scrollEl;return i.isWin=n===window,i.isWin||(n=this.getClosestParent(i.el,n)),this.computeScrollOffsets(i),i.state="default",i.stateContainer=function(){e.manageState(i)},this.manageState(i),n.addEventListener("scroll",i.stateContainer),i},t.prototype.getClosestParent=function(t,s){var e=document.querySelector(s),i=t;if(i.parentElement===e)return e;for(;i.parentElement!==e;)i=i.parentElement;return e},t.prototype.computeScrollOffsets=function(t){var s=t,e=s.props,i=e.scrollEl,o=s.parent,n=s.isWin,a=0,r=(s.isWin?i.scrollY||i.pageYOffset:i.scrollTop)+o.getBoundingClientRect().top;return n||"fixed"!==e.positionVal||(a=e.scrollEl.getBoundingClientRect().top,r=o.getBoundingClientRect().top-a),s.offset=a+e.stickyBitStickyOffset,s.stickyStart=r,s.stickyStop=s.stickyStart+o.offsetHeight-(s.el.offsetHeight-s.offset),s},t.prototype.toggleClasses=function(t,s,e){var i=t,o=i.className.split(" ");e&&-1===o.indexOf(e)&&o.push(e);var n=o.indexOf(s);-1!==n&&o.splice(n,1),i.className=o.join(" ")},t.prototype.manageState=function(t){var s=t,e=s.el,i=s.props,o=s.parent.style,n=s.state,a=s.stickyStart,r=s.stickyStop,l=e.style,c=i.noStyles,p=i.positionVal,f=i.scrollEl,u=i.stickyClass,d=i.stuckClass,y=i.verticalPosition,h=i.paddingPosition,g=f.requestAnimationFrame;s.isWin&&void 0!==g||(g=function(t){t()});var k=this.toggleClasses,v=s.isWin?f.scrollY||f.pageYOffset:f.scrollTop,m=v<=a&&"sticky"===n,C=v>=r&&"sticky"===n;return v>a&&v<r&&("default"===n||"stuck"===n)?(s.state="sticky",g(function(){k(e,d,u),l.position=p,c||(l.bottom="",l[y]=i.stickyBitStickyOffset+"px","fixed"===p&&(o[h]=e.clientHeight+"px"))})):m?(s.state="default",g(function(){k(e,u),"fixed"===p&&(l.position=""),o[h]=""})):C&&(s.state="stuck",g(function(){k(e,u,d),"fixed"!==p||c||(l.top="",l.bottom="0",l.position="absolute","fixed"===p&&(o[h]=e.clientHeight+"px"))})),s},t.prototype.removeInstance=function(t){var s=t.el,e=t.props,i=this.toggleClasses;s.style.position="",s.style[e.verticalPosition]="",i(s,e.stickyClass),i(s,e.stuckClass),i(s.parentNode,e.parentClass)},t.prototype.cleanup=function(){for(var t=0;t<this.instances.length;t+=1){var s=this.instances[t];s.props.scrollEl.removeEventListener("scroll",s.stateContainer),this.removeInstance(s)}this.manageState=!1,this.instances=[]},function(s,e){return new t(s,e)}});